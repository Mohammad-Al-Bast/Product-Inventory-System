<% title = 'Suppliers - Product Inventory System'; pageScript = '/js/suppliers.js'; %>

    <script>
        // Initialize suppliers data from server
        window.suppliersData = <%- JSON.stringify(suppliers) %>;
    </script>

    <!-- Sidebar Navigation -->
    <%- include('partials/sidebar', { active: 'suppliers' }) %>

    <!-- Main Content -->
    <main class="main-content">
        <%- include('partials/header', { pageTitle: 'Suppliers', pageSubtitle: 'Manage your supplier network' }) %>

        <!-- Suppliers Controls -->
        <section class="controls-section">
            <div class="controls-left">
                <div class="search-box-large">
                    <i class="fas fa-search"></i>
                    <input type="text" id="supplierSearch" placeholder="Search suppliers by name...">
                </div>
                <div class="filter-group">
                    <select id="cityFilter" class="filter-select">
                        <option value="">All Cities</option>
                        <option value="new-york">New York</option>
                        <option value="los-angeles">Los Angeles</option>
                        <option value="chicago">Chicago</option>
                        <option value="houston">Houston</option>
                        <option value="miami">Miami</option>
                    </select>
                    <button class="btn-filter" id="clearFilters">
                        <i class="fas fa-times"></i> Clear Filters
                    </button>
                </div>
            </div>
            <div class="controls-right">
                <button class="btn-primary" id="addSupplierBtn">
                    <i class="fas fa-plus"></i> Add Supplier
                </button>
            </div>
        </section>

        <!-- Suppliers Grid -->
        <section class="suppliers-grid" id="suppliersGrid">
            <% if (suppliers && suppliers.length > 0) { %>
                <% suppliers.forEach(supplier => { %>
                    <div class="supplier-card" data-supplier-id="<%= supplier.id %>">
                        <div class="supplier-header">
                            <div class="supplier-avatar">
                                <i class="fas fa-building"></i>
                            </div>
                            <div class="supplier-actions">
                                <button class="btn-icon edit" onclick="editSupplier(<%= supplier.id %>)">
                                    <i class="fas fa-edit"></i>
                                </button>
                                <button class="btn-icon delete" onclick="deleteSupplier(<%= supplier.id %>)">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                        <div class="supplier-body">
                            <h3><%= supplier.name %></h3>
                            <div class="supplier-detail">
                                <i class="fas fa-map-marker-alt"></i>
                                <span><%= supplier.address %>, <%= supplier.city %>, <%= supplier.state %> <%= supplier.zip %></span>
                            </div>
                            <div class="supplier-detail">
                                <i class="fas fa-phone"></i>
                                <span><%= supplier.phone %></span>
                            </div>
                            <div class="supplier-detail">
                                <i class="fas fa-envelope"></i>
                                <span><%= supplier.email %></span>
                            </div>
                            <% if (supplier.website) { %>
                                <div class="supplier-detail">
                                    <i class="fas fa-globe"></i>
                                    <span><a href="<%= supplier.website %>" target="_blank"><%= supplier.website %></a></span>
                                </div>
                            <% } %>
                            <% if (supplier.notes) { %>
                                <div class="supplier-detail">
                                    <i class="fas fa-sticky-note"></i>
                                    <span><%= supplier.notes %></span>
                                </div>
                            <% } %>
                            <div class="supplier-stats">
                                <div class="stat-item">
                                    <span class="stat-value"><%= supplier.country %></span>
                                    <span class="stat-label">Country</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-value active">Active</span>
                                    <span class="stat-label">Status</span>
                                </div>
                            </div>
                        </div>
                    </div>
                <% }); %>
            <% } else { %>
                <div class="empty-state">
                    <i class="fas fa-building"></i>
                    <p>No suppliers found. Add your first supplier to get started!</p>
                </div>
            <% } %>
        </section>
    </main>

    <%- include('partials/modals/supplierModal') %>

    <%- include('partials/modals/deleteModal') %>